<h2 class="text-center text-2xl font-bold mb-6 text-foreground dark:text-white">
  {{ modoEdicion ? 'Edición de Propiedad Inmobiliaria' : 'Registro de Propiedad Inmobiliaria' }}
</h2>

<form
  [formGroup]="inmobiliariaForm"
  (ngSubmit)="guardarInmobiliaria()"
  class="w-full mx-auto px-4"
>
  <div
    class="bg-transparent text-white border border-primary-background/90 rounded-2xl shadow-xl overflow-hidden"
  >
    <!-- Header de la card -->
    <div class="bg-primary text-foreground px-4 py-2.5 text-xs font-semibold">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-xs uppercase tracking-wider text-gray-100">
            {{ modoEdicion ? 'Edición de Inmobiliaria' : 'Registro de Inmobiliaria' }}
          </p>
          <h3 class="text-xl font-semibold text-white">
            Datos de la propiedad
          </h3>
        </div>
      </div>
    </div>

    <!-- Contenido -->
    <div class="text-primary p-6 space-y-6">
      <fieldset class="border-0">
        <legend class="px-2 text-lg font-semibold text-foreground mb-4">
          Información de la propiedad
        </legend>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-primary">
          <div>
            <label class="text-sm text-foreground"> Ubicación </label>
            <input
              type="text"
              formControlName="ubicacion"
              placeholder="Ej: Calle Ficticia 123"
              class="w-full p-2 bg-white text-black border border-gray-300 rounded"
            />
          </div>

          <div>
            <label class="text-sm text-foreground"> Área </label>
            <input
              type="text"
              formControlName="area"
              placeholder="Ej: 150m²"
              class="w-full p-2 bg-white text-black border border-gray-300 rounded"
            />
          </div>

          <div>
            <label class="text-sm text-foreground"> Precio </label>
            <input
              type="number"
              formControlName="precio"
              placeholder="Ej: 350000"
              class="w-full p-2 bg-white text-black border border-gray-300 rounded"
            />
          </div>

          <div>
            <label class="text-sm text-foreground"> Descripción </label>
            <textarea
              formControlName="descripcion"
              placeholder="Descripción de la propiedad"
              class="w-full p-2 bg-white text-black border border-gray-300 rounded"
            ></textarea>
          </div>

          <div>
            <label class="text-sm text-foreground"> Situación inmobiliaria </label>
            <input
              type="text"
              formControlName="situacion_inmobiliaria"
              placeholder="Ej: En venta"
              class="w-full p-2 bg-white text-black border border-gray-300 rounded"
            />
          </div>

          <div>
            <label class="text-sm text-foreground"> Estado </label>
            <select
              formControlName="estado"
              class="w-full p-2 bg-white text-black border border-gray-300 rounded"
            >
              <option [ngValue]="true">Disponible</option>
              <option [ngValue]="false">No disponible</option>
            </select>
          </div>

          <!-- Campo de imagen -->
          <div class="col-span-1">
            <label class="text-sm text-foreground"> Subir Imagen </label>
            <input
              type="file"
              (change)="onImageSelected($event)"
              class="w-full p-2 bg-white text-black border border-gray-300 rounded"
            />
            <div *ngIf="imageId">
              <p class="text-green-500">
                Imagen cargada con éxito. ID: {{ imageId }}
              </p>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- Botones -->
      <div class="flex justify-center gap-4 pt-5">
        <button
          type="button"
          (click)="volver()"
          class="bg-primary text-white px-8 py-2.5 rounded-md hover:bg-primary font-semibold border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition"
        >
          Volver
        </button>
        <button
          type="submit"
          [disabled]="cargando"
          class="bg-primary text-white px-8 py-2.5 rounded-md hover:bg-primary font-semibold border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition"
        >
          {{
            cargando
              ? (modoEdicion ? 'Actualizando...' : 'Registrando...')
              : (modoEdicion ? 'Actualizar Propiedad' : 'Registrar Propiedad')
          }}
        </button>
      </div>

      <div *ngIf="error" class="text-red-400 text-center text-sm">
        {{ error }}
      </div>
    </div>
  </div>
</form>
